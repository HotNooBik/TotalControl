# TotalControl

**Курсовая работа: Web-приложение на Django**
  
**Описание:** Данный проект создавался для изучения основ веб-разработки: Django (backend) + HTML/CSS/JavaScript, Bootstrap (frontend).

---

## Содержание

1. [Описание проекта](#описание-проекта)  
2. [Технологии и стек](#технологии-и-стек)  
3. [Реализованные функции и задачи](#реализованные-функции-и-задачи)  
4. [Установка и запуск](#установка-и-запуск)
   - [0. Требования](#0-требования)  
   - [1. Клонирование репозитория](#1-клонирование-репозитория)  
   - [2. Установка зависимостей](#2-установка-зависимостей)  
   - [3. Настройка PostgreSQL](#3-настройка-postgresql)  
   - [4. Создание файла окружения `.env`](#4-создание-файла-окружения-env)  
   - [5. Применение миграций и запуск сервера](#5-применение-миграций-и-запуск-сервера)  
5. [Контакты и автор](#контакты-и-автор)  
6. [Лицензия](#лицензия)

---

## Описание проекта

Многие, когда задумываются об правильном питании и об похудении, сталкиваются с нуждой считаться свои потребляемые калории и КБЖУ. Данный проект посвящен сайту - удобному инструменту для контроля за своим рационом. Введите продукты, которые вы съели, и получите их калорийность, а также содержание белков, жиров и углеводов (КБЖУ). Система автоматически подсчитает общую суточную норму и поможет вам следить за балансом питания.

---

## Технологии и стек

- Python 3.12  
- Django  
- PostgreSQL  
- HTML5, CSS3
- Bootstrap 
- JavaScript (ES6+)  
- Внешние API: FatSecret, OpenRouter, OpenFoodFacts

---

## Реализованные функции и задачи

1) Создать базовый интерфейс;
2) Регистрация и авторизация аккаунта;
3) Личный аккаунт пользователя, с указанной информацией о себе (дата рождения, рост, вес);
4) Автоматизированный расчет личной нормы калорий в день;
5) Автоматический расчет кол-ва БЖУ, в зависимости от цели пользователя;
6) Обновление информации пользователя (указать новый вес или рост);
7) Автоматический расчет дневной нормы выпитой воды;
8) Поиск продуктов в базе данных и информации о них;
9) Ежедневная заполняемая шкала цели калорий, которая заполняется добавлением указанного продукта из базы данных;
10) Выбрать в каких единицах ввести кол-во пищи (в граммах, или в кол-ве порций - 100 гр);
11) Возможность выбрать один из трёх приемов пищи (завтрак, обед, ужин), куда добавляется продукт в цель;
12) Возможность добавить продукт в цель, которого нет в базе данных (ввести свои КБЖУ);
13) Отдельная личная база продуктов, куда пользователем добавляются продукты, не найденные в общей базе данных;
14) Возможность удалять добавленные продукты;
15) Возможность изменять добавленный продукт;
16) Возможность добавления продуктов в цель по фото;
17) Просмотр графика веса пользователя;
18) Добавление еды в избранное, для быстрого доступа при добавлении;
19) Личный ИИ-ассистент помощник, которому можно задавать вопросы по поводу питания;
20) Сохранение данных приема пищи за день, и составление графика всех приемов пищи;
21) Возможность добавления еды по сканированию штрихкода.

---

## Установка и запуск

### 0. Требования

- Python 3.8+  
- PostgreSQL 12+  
- pip / virtualenv

### 1. Клонирование репозитория

```bash
git clone https://github.com/HotNooBik/TotalControl.git
cd TotalControl
```

### 2. Установка зависимостей

Рекомендуется использовать виртуальное окружение:

```bash
python -m venv venv
source venv/bin/activate      # Linux/macOS
venv\Scripts\activate         # Windows

pip install --upgrade pip
pip install -r requirements.txt
```

### 3. Настройка PostgreSQL

1. Установите и запустите PostgreSQL.  
2. Создайте базу данных (например, `totalcontrol_db`).  
3. Создайте пользователя и назначьте ему права:

```sql
CREATE DATABASE totalcontrol_db;
CREATE USER db_admin WITH PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE totalcontrol_db TO db_admin;
```

### 4. Создание файла окружения `.env`

В корне проекта создайте файл `.env` и заполните следующие поля:

```ini
SECRET_KEY_DJANGO=your_django_secret_key    # Можете сгенерировать на https://djecrety.ir
DEBUG_STATUS=True    # или False
FATSECRET_API_KEY=your_fatsecret_key    # Получите на https://platform.fatsecret.com/platform-api
FATSECRET_API_SECRET=your_fatsecret_secret
FATSECRET_API_CLIENT_ID=your_fatsecret_client_id
OPENROUTER_API_KEY_1=your_openrouter_key_1    # Получите на https://openrouter.ai
OPENROUTER_API_KEY_2=your_openrouter_key_2
OPENROUTER_API_KEY...    # Можете указать дополнительные OpenRouter API ключи
DB_ADMIN_NAME=db_admin    # Имя, которое вы указали при CREATE USER
DB_ADMIN_PASS=your_password    # Пароль, которое вы указали при CREATE USER
DB_HOST=localhost    # Указывается при установке PoistgreSQL
DB_PORT=5432    # Указывается при установке PoistgreSQL
```

### 5. Применение миграций и запуск сервера

```bash
# Перейти в папку total_control_django, где находится файл manage.py
cd total_control_django

# Создать миграции для базы данных
python manage.py makemigrations

# Применить миграции
python manage.py migrate

# Создать суперпользователя (для доступа в админку)
python manage.py createsuperuser

# Запустить сервер разработки
python manage.py runserver
```

Перейдите в браузере по адресу http://127.0.0.1:8000/.

---

## Контакты и автор

- Автор проекта: HotNooBik  
- GitHub: https://github.com/HotNooBik  
- Email: hotnoobgd@gmail.com

---

## Лицензия

Проект распространяется под лицензией [BSD 3-Clause](LICENSE).   
